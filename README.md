# Go HTTP Сервис Цитат

REST API сервис для управления цитатами, построенный на Go с использованием принципов чистой архитектуры и комплексного модульного тестирования.

*Примечание: Тесты и README написаны ИИ и проверены человек, но могут соджержать ошибки и неточности. Тесты в идеальном случае также нужно покрыть mock-объектами*

## Архитектура

Проект следует принципам **Чистой Архитектуры** с четким разделением ответственности:

```
├── domain/          # Бизнес-логика и сущности
├── application/     # Use-Case  
├── infrastructure/  # Внешние интерфейсы (репозитории, базы данных)
├── presentation/    # HTTP контроллеры и DTO
└── test/           # Модульные тесты для всех слоев
```

## Быстрый Старт

### Требования

- Go 1.19 или выше
- Git

### Установка

1. **Клонируйте репозиторий**
   ```bash
   git clone <repository-url>
   cd go-hhtp-quote
   ```

2. **Загрузите зависимости**
   ```bash
   go mod download
   ```

3. **Запустите тесты**
   ```bash
   go test ./test/...
   ```

4. **Запустите сервер**
   ```bash
   go run cmd/api/main.go
   ```

Сервер запустится на `http://localhost:8080`

## API Эндпоинты

### Создать Цитату
```http
POST /quotes
Content-Type: application/json

{
  "author": "Альберт Эйнштейн",
  "quote": "Воображение важнее знания."
}
```

**Ответ (201 Created):**
```json
{
  "id": 1,
  "author": "Альберт Эйнштейн", 
  "quote": "Воображение важнее знания.",
  "created_at": "2023-06-03T10:30:00Z"
}
```

### Получить Все Цитаты
```http
GET /quotes
```

**Ответ (200 OK):**
```json
[
  {
    "id": 1,
    "author": "Альберт Эйнштейн",
    "quote": "Воображение важнее знания.",
    "created_at": "2023-06-03T10:30:00Z"
  }
]
```

### Фильтрация Цитат по Автору
```http
GET /quotes?author=Einstein
```

### Получить Случайную Цитату
```http
GET /quotes/random
```

### Удалить Цитату
```http
DELETE /quotes/{id}
```

**Ответ (204 No Content)**

## Тестирование

### Запустить Все Тесты
```bash
go test ./test/...
```

### Запустить Тесты с Подробным Выводом
```bash
go test -v ./test/...
```

### Запустить Тесты для Конкретного Слоя
```bash
# Тесты слоя домена
go test ./test/domain/...

# Тесты слоя приложения
go test ./test/application/...

# Тесты слоя инфраструктуры
go test ./test/infrastructure/...

# Тесты слоя представления
go test ./test/presentation/...
```


